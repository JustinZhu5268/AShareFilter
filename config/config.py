"""
配置参数 - PRD V2.0 标准
高精度行业龙头反转策略
"""

# Tushare API 配置
TUSHARE_TOKEN = "82e556132679ef72ee42217682fa809a68c2d32a8d50d0df9b87d0f37384"
TUSHARE_API_URL = "http://lianghua.nanyangqiankun.top"
API_TIMEOUT = 10  # 秒
API_RETRY_TIMES = 3

# ==========================================
# 股票池筛选配置
# ==========================================
MIN_MARKET_CAP = 100  # 总市值 ≥ 100亿 (单位: 亿元)
MIN_LISTED_DAYS = 60  # 上市时间 ≥ 60天

# ==========================================
# 财务指标配置 (TTM)
# ==========================================
MIN_ROE_TTM = 5.0  # ROE(TTM) > 5%
MIN_NET_PROFIT_TTM = 0  # 扣非净利润(TTM) > 0 (单位: 元)

# ==========================================
# 行业筛选配置 (RPS)
# ==========================================
RPS_THRESHOLD = 85  # RPS > 85
RPS_DAYS = 20  # RPS计算周期
TOP_N_INDUSTRIES = 5  # 选取前N个强势行业

# ==========================================
# 筹码面配置
# ==========================================
MAX_PROFIT_RATIO = 15.0  # 获利比例 < 15%
MAX_CHIP_CONCENTRATION = 20.0  # 筹码集中度 < 20%

# ==========================================
# 技术面配置
# ==========================================
MA_PERIOD = 60  # 均线周期
MA_BIAS_MIN = -15.0  # 乖离率下限
MA_BIAS_MAX = 5.0  # 乖离率上限

# KDJ配置
KDJ_PERIOD = 9
WEEKLY_KDJ_THRESHOLD = 50  # 周线J值阈值

# MACD配置
MACD_FAST = 12
MACD_SLOW = 26
MACD_SIGNAL = 9

# 布林带配置
BB_PERIOD = 20
BB_STD = 2

# ==========================================
# 量价配合配置
# ==========================================
VOLUME_RATIO_MIN = 0.8  # 量比下限
VOLUME_RATIO_MAX = 3.0  # 量比上限
VOLUME_MA_PERIOD = 20  # 成交量均线周期

# ==========================================
# 资金面配置
# ==========================================
NORTHBOUND_DAYS = 5  # 北向资金连续净买入天数

# ==========================================
# 风控配置
# ==========================================
STOP_LOSS_PCT = 7.0  # 止损线 -7%
TAKE_PROFIT_PCT = 30.0  # 止盈线 +30%

# ==========================================
# 龙头配置
# ==========================================
TOP_N_STOCKS_PER_IND = 2  # 每行业选取股票数

# ==========================================
# 缓存配置
# ==========================================
CACHE_EXPIRY = {
    'market_cap': 7,  # 市值7天
    'financial_ttm': 90,  # 财务90天
    'stock_list': 1,  # 股票列表1天
    'adj_factor': 30,  # 复权因子30天
    'industry_rps': 1,  # 行业RPS 1天
    'daily_data': 1,  # 日线数据1天
}

# ==========================================
# 数据源配置
# ==========================================
USE_MOCK_DATA = False  # 是否使用Mock数据 (调试用)
MOCK_MODE_STOCK = None  # 指定单只股票代码 (如 '300274')

# 测试用的单只股票
TEST_STOCK_CODE = '300274'  # 阳光电源
TEST_STOCK_NAME = '阳光电源'
